(this["webpackJsonpfirebase-auth"]=this["webpackJsonpfirebase-auth"]||[]).push([[0],{100:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(17),o=a.n(r),i=(a(94),a(77),a(45)),s=a(16),l=a(10),u=a(25),d=a.n(u),j=a(33),b=a(41),p=b.a.initializeApp({apiKey:"AIzaSyAlwKsg4-W1ygjff9nad7ea4P_P9Kl1-Qo",authDomain:"nayef-432fd.firebaseapp.com",databaseURL:"https://nayef-432fd-default-rtdb.firebaseio.com",projectId:"nayef-432fd",storageBucket:"nayef-432fd.appspot.com",messagingSenderId:"203699411680",appId:"1:203699411680:web:a1bde85a790022b00f0e85",measurementId:"G-Z6NBNPWQ5Q"}),O=p.auth(),h=p.firestore(),f=new b.a.auth.GoogleAuthProvider,x=function(){var e=Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.signInWithPopup(f);case 3:return t=e.sent,a=t.user,e.next=7,h.collection("users").where("uid","==",a.uid).get();case 7:if(0!==e.sent.docs.length){e.next=11;break}return e.next=11,h.collection("users").add({uid:a.uid,name:a.displayName,authProvider:"google",email:a.email});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(d.a.mark((function e(t,a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.signInWithEmailAndPassword(t,a);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(d.a.mark((function e(t,a,n){var c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.createUserWithEmailAndPassword(a,n);case 3:return c=e.sent,r=c.user,e.next=7,h.collection("users").add({uid:r.uid,name:t,authProvider:"local",email:a});case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.sendPasswordResetEmail(t);case 3:alert("Password reset link sent!"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){O.signOut()},k=a(34),C=(a(100),a.p+"static/media/login.68ee0dc7.png"),S=a(4);var w=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(l.a)(r,2),i=o[0],u=o[1],d=Object(k.a)(O),j=Object(l.a)(d,3),b=j[0],p=j[1],h=(j[2],Object(s.f)());return Object(n.useEffect)((function(){p||b&&h.replace("/dashboard")}),[b,p]),Object(S.jsx)("div",{className:"login",style:{backgroundImage:"url(".concat(C,")"),backgroundRepeat:"no-repeat"},children:Object(S.jsxs)("div",{className:"login__container",children:[Object(S.jsxs)("div",{children:[Object(S.jsxs)("h1",{style:{fontSize:50,color:"white",backgroundColor:"#783F04",borderRadius:20,width:"100%",padding:"5px 5px"},children:[" ","Cafe Gamal"," "]}),Object(S.jsx)("br",{}),Object(S.jsx)("span",{style:{fontSize:13,color:"white",backgroundColor:"#783F04",borderRadius:20,padding:"10px 10px"},children:"Developed By Omar Abdallah"})]}),Object(S.jsx)("br",{}),Object(S.jsx)("input",{type:"text",className:"login__textBox",value:a,onChange:function(e){return c(e.target.value)},placeholder:"E-mail Address"}),Object(S.jsx)("input",{type:"password",className:"login__textBox",value:i,onChange:function(e){return u(e.target.value)},placeholder:"Password"}),Object(S.jsx)("button",{className:"login__btn",onClick:function(){return m(a,i)},style:{fontSize:30,color:"white",backgroundColor:"#783F04",borderRadius:20,cursor:"pointer"},children:"Login"})]})})};a(109);var _=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),o=Object(l.a)(r,2),u=o[0],d=o[1],j=Object(n.useState)(""),b=Object(l.a)(j,2),p=b[0],h=b[1],f=Object(k.a)(O),m=Object(l.a)(f,3),v=m[0],y=m[1],C=(m[2],Object(s.f)());return Object(n.useEffect)((function(){y||v&&C.replace("/dashboard")}),[v,y]),Object(S.jsx)("div",{className:"register",children:Object(S.jsxs)("div",{className:"register__container",children:[Object(S.jsx)("input",{type:"text",className:"register__textBox",value:p,onChange:function(e){return h(e.target.value)},placeholder:"Full Name"}),Object(S.jsx)("input",{type:"text",className:"register__textBox",value:a,onChange:function(e){return c(e.target.value)},placeholder:"E-mail Address"}),Object(S.jsx)("input",{type:"password",className:"register__textBox",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Password"}),Object(S.jsx)("button",{className:"register__btn",onClick:function(){p||alert("Please enter name"),g(p,a,u)},children:"Register"}),Object(S.jsx)("button",{className:"register__btn register__google",onClick:x,children:"Register with Google"}),Object(S.jsxs)("div",{children:["Already have an account? ",Object(S.jsx)(i.b,{to:"/",children:"Login"})," now."]})]})})};a(110);var N=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(k.a)(O),o=Object(l.a)(r,3),u=o[0],d=o[1],j=(o[2],Object(s.f)());return Object(n.useEffect)((function(){d||u&&j.replace("/dashboard")}),[u,d]),Object(S.jsx)("div",{className:"reset",children:Object(S.jsxs)("div",{className:"reset__container",children:[Object(S.jsx)("input",{type:"text",className:"reset__textBox",value:a,onChange:function(e){return c(e.target.value)},placeholder:"E-mail Address"}),Object(S.jsx)("button",{className:"reset__btn",onClick:function(){return v(a)},children:"Send password reset email"}),Object(S.jsxs)("div",{children:["Don't have an account? ",Object(S.jsx)(i.b,{to:"/register",children:"Register"})," now."]})]})})},I=a(155),P=(a(111),a(82)),E=a.n(P),F=a(166),A=a(182),B=a(157),W=a(169),R=a(170),z=a(159),T=a(163),D=a(162),L=a(158),q=a(160),G=a(161),V=a(168),K=a(151),Q=a(179),U=a(119),H=a(181),J=a(164),M=a(165),Z=a(167),X=a(171);var Y=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)("0"),j=Object(l.a)(d,2),p=j[0],O=j[1],f=Object(n.useState)(""),x=Object(l.a)(f,2),m=x[0],g=x[1],v=Object(n.useState)(!0),y=Object(l.a)(v,2),k=y[0],C=y[1],w=Object(n.useState)("+"),_=Object(l.a)(w,2),N=_[0],P=_[1],Y=Object(n.useState)([]),$=Object(l.a)(Y,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(l.a)(ae,2),ce=ne[0],re=ne[1],oe=Object(n.useState)(""),ie=Object(l.a)(oe,2),se=ie[0],le=ie[1],ue=Object(n.useState)(!0),de=Object(l.a)(ue,2),je=(de[0],de[1],Object(n.useState)(!1)),be=Object(l.a)(je,2),pe=be[0],Oe=be[1],he=Object(n.useState)(""),fe=Object(l.a)(he,2),xe=fe[0],me=fe[1],ge=Object(n.useState)(""),ve=Object(l.a)(ge,2),ye=ve[0],ke=ve[1],Ce=function(e,t){"plus"==t&&le(parseInt(se)+parseInt(e)),"minus"==t&&le(parseInt(se)-parseInt(e))},Se=new Intl.NumberFormat("AR-AR",{style:"currency",currency:"LBP"});Object(n.useEffect)((function(){console.log("useEffect Hook!!!"),h.collection("persons").orderBy("name","asc").onSnapshot((function(e){console.log("Firebase Snap!"),r(e.docs.map((function(e){return{id:e.id,name:e.data().name,datatime:e.data().datatime,balance:parseInt(e.data().balance),phone:e.data().phone}})))})),h.collection("products").orderBy("product_name","asc").onSnapshot((function(e){console.log("Firebase Snap!"),te(e.docs.map((function(e){return{id:e.id,product_name:e.data().product_name,datatime:e.data().datatime,price:e.data().price,phone:e.data().phone,avatar:e.data().avatar}})))}))}),[]);var we=function(){Oe(!1)};return Object(S.jsxs)(K.a,{children:[Object(S.jsxs)("center",{children:[Object(S.jsx)("h3",{children:"Clients List"})," "]}),Object(S.jsx)(I.a,{variant:"contained",onClick:function(){k?(C(!1),P("-")):(C(!0),P("+"))},style:{background:[k?"green":"red"],color:"white",fontSize:10},children:N}),"\xa0 ",Se.format(c.reduce((function(e,t){return e+t.balance}),0)),Object(S.jsxs)("center",{style:{display:[k?"none":"block"]},children:[Object(S.jsxs)("form",{noValidate:!0,children:[Object(S.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"todo",label:"Full name",name:"todo",autoComplete:"off",value:s,onChange:function(e){return u(e.target.value)}}),Object(S.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,type:"number",fullWidth:!0,id:"balance",label:"balance",name:"balance",autoComplete:"off",value:p,onChange:function(e){return O(e.target.value)}}),Object(S.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,type:"number",fullWidth:!0,id:"balance",label:"phone",name:"phone",autoComplete:"off",value:m,onChange:function(e){return g(e.target.value)}}),Object(S.jsx)(I.a,{type:"submit",variant:"contained",style:{background:"green",color:"white"},fullWidth:!0,onClick:function(e){e.preventDefault(),h.collection("persons").add({name:s,datetime:b.a.firestore.FieldValue.serverTimestamp(),balance:parseInt(p),phone:m}),u(""),O(""),g("")},disabled:!s||!p||!m,startIcon:Object(S.jsx)(B.a,{}),children:"Save"}),Object(S.jsx)("br",{})]}),Object(S.jsx)("br",{})]}),Object(S.jsx)(L.a,{style:{marginTop:5},className:"table1",component:U.a,children:Object(S.jsxs)(z.a,{"aria-label":"simple table",children:[Object(S.jsx)(q.a,{children:Object(S.jsxs)(G.a,{style:{background:"#783F04",color:"white",textAlign:"left"},children:[Object(S.jsx)(D.a,{align:"center",color:"primary",children:Object(S.jsx)("span",{style:{color:"white"},children:"fullname"})}),Object(S.jsx)(D.a,{align:"center",children:Object(S.jsx)("span",{style:{color:"white"},children:"balance"})}),Object(S.jsx)(D.a,{align:"center",children:Object(S.jsx)("span",{style:{color:"white"},children:"action"})})]})}),Object(S.jsx)(T.a,{children:c.map((function(e){return Object(S.jsxs)(G.a,{children:[Object(S.jsx)(D.a,{align:"center",children:Object(S.jsxs)("h3",{children:[" ",e.name]})}),Object(S.jsx)(D.a,{align:"center",children:e.balance}),Object(S.jsx)(D.a,{align:"center",children:Object(S.jsx)(B.a,{cursor:"pointer",onClick:function(){return t=e,Oe(!0),ke(t.id),me(t.name),le(t.balance),void re(t.phone);var t}})})]},e.id)}))})]})}),Object(S.jsxs)(H.a,{style:{backgroundImage:"linear-gradient( #e52e71,#ff8a00)"},fullScreen:!0,open:pe,onClose:we,children:[Object(S.jsx)(J.a,{style:{backgroundColor:"black"},children:Object(S.jsx)("div",{className:"containergrid",children:ee.map((function(e){return Object(S.jsxs)(M.a,{sx:{maxWidth:345},style:{backgroundImage:"linear-gradient( #e52e71,#ff8a00)",margin:"5px"},children:[Object(S.jsx)(F.a,{avatar:Object(S.jsx)(A.a,{style:{height:100,width:100,borderRadius:0},src:e.avatar,sx:{bgcolor:"red"},"aria-label":"recipe",children:"C"}),action:Object(S.jsx)(Z.a,{"aria-label":"settings"}),title:Object(S.jsx)("h1",{children:e.product_name}),subheader:Object(S.jsx)("h1",{children:e.price})}),Object(S.jsx)(V.a,{}),Object(S.jsxs)("div",{style:{textAlign:"center"},children:[Object(S.jsx)(I.a,{name:"minus",onClick:function(t){return Ce(e.price,t.currentTarget.name)},size:"small",variant:"outlined",children:Object(S.jsx)(W.a,{})}),"\xa0",Object(S.jsx)(I.a,{name:"plus",onClick:function(t){return Ce(e.price,t.currentTarget.name)},size:"small",variant:"outlined",children:Object(S.jsx)(R.a,{})})]}),Object(S.jsx)("br",{})]})}))})}),Object(S.jsxs)(X.a,{children:[Object(S.jsx)("a",{href:"https://api.whatsapp.com/send?phone=+961".concat(ce),target:"_blank",children:Object(S.jsx)(E.a,{style:{color:"green"}})}),Object(S.jsx)(Q.a,{margin:"normal",label:"full name",type:"text",autoComplete:"off",variant:"outlined",name:"updateTodo",value:xe,size:"small",onChange:function(e){return me(e.target.value)}}),Object(S.jsx)(Q.a,{style:{outlineColor:"green"},margin:"normal",label:"balance",type:"number",variant:"outlined",name:"updateTodo",autoComplete:"off",size:"small",value:se,onChange:function(e){return le(e.target.value)}}),Object(S.jsx)(I.a,{onClick:we,variant:"contained",style:{background:"red",color:"white"},children:"Cancel"}),Object(S.jsx)(I.a,{disabled:!xe,onClick:function(){if(se<0)return alert("please instert valid");h.collection("persons").doc(ye).update({name:xe,balance:se}),Oe(!1)},variant:"contained",style:{background:"green",color:"white"},children:"Save"})]})]})]})},$=(a.p,a(175)),ee=a(156),te=a(172),ae=a(173),ne=a(174);var ce=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),s=i[0],u=i[1],p=Object(n.useState)("0"),O=Object(l.a)(p,2),f=O[0],x=O[1],m=Object(n.useState)(""),g=Object(l.a)(m,2),v=(g[0],g[1],Object(n.useState)(!0)),y=Object(l.a)(v,2),k=y[0],C=y[1],w=Object(n.useState)("+"),_=Object(l.a)(w,2),N=_[0],P=_[1],E=c.a.useState(null),F=Object(l.a)(E,2),A=F[0],R=F[1],z=Object(n.useState)(""),T=Object(l.a)(z,2),D=T[0],L=T[1],q=Object(n.useState)(!1),G=Object(l.a)(q,2),V=G[0],U=G[1],M=Object(n.useState)(""),Y=Object(l.a)(M,2),ce=Y[0],re=Y[1],oe=Object(n.useState)(""),ie=Object(l.a)(oe,2),se=ie[0],le=ie[1],ue=function(){var e=Object(j.a)(d.a.mark((function e(t){var a,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files[0]){e.next=4;break}return e.abrupt("return",console.log("please select image"));case 4:return n=b.a.storage().ref(),c=n.child(a.name),e.next=8,c.put(a);case 8:return e.t0=R,e.next=11,c.getDownloadURL();case 11:e.t1=e.sent,(0,e.t0)(e.t1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){console.log("useEffect Hook!!!"),h.collection("products").orderBy("price","desc").onSnapshot((function(e){console.log("Firebase Snap!"),r(e.docs.map((function(e){return{id:e.id,product_name:e.data().product_name,datatime:e.data().datatime,price:e.data().price,phone:e.data().phone}})))}))}),[]);var de=function(){U(!1)};return Object(S.jsxs)(K.a,{children:[Object(S.jsx)(I.a,{variant:"contained",onClick:function(){k?(C(!1),P("-")):(C(!0),P("+"))},style:{background:[k?"green":"red"],color:"white",fontSize:10},children:N}),Object(S.jsx)("center",{style:{display:[k?"none":"block"]},children:Object(S.jsxs)("form",{noValidate:!0,children:[Object(S.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"todo",label:"prodct name",name:"todo",autoComplete:"off",value:s,onChange:function(e){return u(e.target.value)}}),Object(S.jsx)(Q.a,{variant:"outlined",margin:"normal",required:!0,type:"number",fullWidth:!0,id:"price",label:"price",name:"price",autoComplete:"off",value:f,onChange:function(e){return x(e.target.value)}}),Object(S.jsx)("input",{type:"file",onChange:ue}),Object(S.jsx)(I.a,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,onClick:function(e){e.preventDefault(),A&&(h.collection("products").add({product_name:s,datetime:b.a.firestore.FieldValue.serverTimestamp(),price:f,avatar:A}),u(""),x(""),R(null))},disabled:!s||!f||!A,startIcon:Object(S.jsx)(B.a,{}),children:"Save"})]})}),Object(S.jsx)(ee.a,{dense:!0,children:a.map((function(e){return Object(S.jsxs)(te.a,{children:[Object(S.jsx)(ae.a,{primary:e.product_name,secondary:e.datetime}),Object(S.jsx)(ae.a,{primary:e.price,secondary:e.datetime}),Object(S.jsxs)(ne.a,{children:[Object(S.jsx)(Z.a,{edge:"end","aria-label":"Edit",onClick:function(){return function(e){U(!0),le(e.id),re(e.product_name),L(e.price)}(e)},children:Object(S.jsx)($.a,{})}),Object(S.jsx)(Z.a,{edge:"end","aria-label":"delete",onClick:function(){return t=e.id,void h.collection("products").doc(t).delete().then((function(e){console.log("Deleted!",e)}));var t},children:Object(S.jsx)(W.a,{})})]})]},e.id)}))}),Object(S.jsxs)(H.a,{fullScreen:!0,open:V,onClose:de,children:[Object(S.jsxs)(J.a,{children:[Object(S.jsx)(Q.a,{variant:"outlined",margin:"normal",label:"product name",type:"text",fullWidth:!0,name:"updateTodo",value:ce,autoComplete:"off",onChange:function(e){return re(e.target.value)}}),Object(S.jsx)(Q.a,{variant:"outlined",margin:"normal",label:"price",type:"number",autoComplete:"off",fullWidth:!0,name:"updateTodo",value:D,onChange:function(e){return L(e.target.value)}})]}),Object(S.jsxs)(X.a,{children:[Object(S.jsx)(I.a,{onClick:de,variant:"contained",style:{background:"red",color:"white"},children:"Cancel"}),Object(S.jsx)(I.a,{disabled:!D||!ce,onClick:function(){h.collection("products").doc(se).update({product_name:ce,price:D}),U(!1)},variant:"contained",style:{background:"green",color:"white"},children:"Save"})]})]})]})},re=a(176),oe=a(177),ie=a(178);var se=function(){var e=Object(k.a)(O),t=Object(l.a)(e,3),a=t[0],c=t[1],r=(t[2],Object(n.useState)("")),o=Object(l.a)(r,2),i=(o[0],o[1]),u=Object(s.f)(),b=Object(n.useState)(!0),p=Object(l.a)(b,2),f=p[0],x=p[1],m=Object(n.useState)("Person"),g=Object(l.a)(m,2),v=(g[0],g[1]),C=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.collection("users").where("uid","==",null===a||void 0===a?void 0:a.uid).get();case 3:return t=e.sent,e.next=6,t.docs[0].data();case 6:n=e.sent,i(n.name),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),alert("\u0646\u0627\u0643\u062f \u0645\u0646 \u0627\u062a\u0635\u0627\u0644\u0643 \u0628\u0627\u0644\u0627\u0646\u062a\u0631\u0646\u062a");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){if(!c)return a?void C():u.replace("/")}),[a,c]),Object(S.jsxs)("div",{className:"home-content",children:[Object(S.jsx)("br",{}),"\xa0",Object(S.jsx)(I.a,{variant:"contained",style:{background:"red",color:"white"},onClick:y,children:Object(S.jsx)(re.a,{})}),"\xa0",Object(S.jsx)(I.a,{onClick:function(){f?(x(!1),v("products")):(x(!0),v("person"))},variant:"contained",children:f?Object(S.jsx)(oe.a,{}):Object(S.jsx)(ie.a,{})}),Object(S.jsx)("center",{children:Object(S.jsx)("br",{})}),Object(S.jsx)("div",{children:f?Object(S.jsx)(Y,{}):Object(S.jsx)(ce,{})})]})};var le=function(){return Object(S.jsx)("div",{className:"app",children:Object(S.jsx)(i.a,{children:Object(S.jsxs)(s.c,{children:[Object(S.jsx)(s.a,{exact:!0,path:"/",component:w}),Object(S.jsx)(s.a,{exact:!0,path:"/register",component:_}),Object(S.jsx)(s.a,{exact:!0,path:"/reset",component:N}),Object(S.jsx)(s.a,{exact:!0,path:"/dashboard",component:se})]})})})},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,184)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(S.jsx)(c.a.StrictMode,{children:Object(S.jsx)(le,{})}),document.getElementById("root")),ue()},77:function(e,t,a){},94:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.0db69348.chunk.js.map